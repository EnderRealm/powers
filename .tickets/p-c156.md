---
id: p-c156
status: open
deps: [p-88d1]
links: []
created: 2026-02-08T20:06:22Z
type: task
priority: 2
assignee: Steve Macbeth
parent: p-2f2f
---
# Write nightly extraction script

Script that processes unprocessed summaries and creates tickets from extracted learnings

## Design

Repo: Manager (new script)
Claude-powered extraction. Feed each unprocessed summary to Claude with extraction prompt.
Processing per summary:
  - Decisions: attach as notes to referenced tickets via tk add-note
  - Problems (unresolved): create bug tickets in target project (high threshold)
  - Discoveries: create task tickets for CLAUDE.md suggestions (highest threshold)
  - Incomplete work: create/reopen task tickets (medium threshold)
  - Workflow suggestions: create task tickets in Powers repo (highest threshold)
After extracting, set processed: true in frontmatter, commit immediately.
Extraction thresholds are prompt-level guidance, not algorithmic filters.
Idempotency: skip summaries where processed: true. Duplicate tickets from crash-before-mark are acceptable.
See docs/LEARNING-EXTRACTION-DESIGN.md Nightly Extraction section.

## Acceptance Criteria

Script processes unprocessed summaries, creates appropriate tickets via tk, marks summaries processed, commits changes

