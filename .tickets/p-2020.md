---
id: p-2020
status: open
deps: [p-88d1]
links: []
created: 2026-02-08T20:06:08Z
type: task
priority: 2
assignee: Steve Macbeth
parent: p-2f2f
---
# Write catch-up script for missed sessions

Script that finds sessions without summaries and generates them using Claude. Runs daily on each machine. Also used for initial backfill.

## Design

Repo: Manager (new script)
Script steps:
  1. Scan ~/.claude/projects/ for session JSONL files
  2. Extract session_id from each JSONL filename/content
  3. Check learnings repo for existing summary by session_id
  4. For unsummarized sessions, invoke Claude (claude CLI or API via MAX) with:
     - The session transcript
     - Same redaction instructions as PreCompact prompt
     - Same summary format with sentinel markers
  5. Build frontmatter + body, write to learnings repo
  6. Push to learnings repo
Valid summary criteria: required frontmatter fields (project, session_id, date, processed) + sentinel markers present.
Malformed summaries are overwritten on re-run.
Configurable: LEARNINGS_REPO path, min session length to summarize.

## Acceptance Criteria

Script finds unsummarized sessions, generates valid summaries via Claude, pushes to learnings repo. Idempotent on re-run.

